"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/generate_report";
exports.ids = ["pages/api/generate_report"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ }),

/***/ "(api)/../../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate_report&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cgenerate_report.ts&middlewareConfigBase64=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate_report&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cgenerate_report.ts&middlewareConfigBase64=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/../../../node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/../../../node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/../../../node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_generate_report_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\generate_report.ts */ \"(api)/./src/pages/api/generate_report.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_generate_report_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_generate_report_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_generate_report_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_generate_report_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/generate_report\",\n        pathname: \"/api/generate_report\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_generate_report_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1yb3V0ZS1sb2FkZXIvaW5kZXguanM/a2luZD1QQUdFU19BUEkmcGFnZT0lMkZhcGklMkZnZW5lcmF0ZV9yZXBvcnQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlNUNwYWdlcyU1Q2FwaSU1Q2dlbmVyYXRlX3JlcG9ydC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUNrRTtBQUNsRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsOERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDhEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxnZW5lcmF0ZV9yZXBvcnQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dlbmVyYXRlX3JlcG9ydFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dlbmVyYXRlX3JlcG9ydFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/../../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate_report&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cgenerate_report.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/generate_report.ts":
/*!******************************************!*\
  !*** ./src/pages/api/generate_report.ts ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"openai\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_0__]);\nopenai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        const reportData = req.body;\n        // Validate required fields\n        const requiredFields = [\n            'symbol',\n            'companyName',\n            'rsi',\n            'bollinger',\n            'mfi',\n            'capm',\n            'garch',\n            'industry',\n            'lstm'\n        ];\n        const missingFields = requiredFields.filter((field)=>!(field in reportData));\n        if (missingFields.length > 0) {\n            return res.status(400).json({\n                error: 'Missing required fields',\n                missingFields\n            });\n        }\n        // Format the input data following the pattern from finetuning_collect.py\n        const formatTrafficLight = (light)=>light.toUpperCase();\n        // Build the user message with all components in the required order\n        const userMessage = [\n            `[RSI Value: ${reportData.rsi.value.toFixed(2)}, Traffic light: ${formatTrafficLight(reportData.rsi.traffic_light)}]`,\n            `[Bollinger %B: ${reportData.bollinger.value.toFixed(2)}, Traffic light: ${formatTrafficLight(reportData.bollinger.traffic_light)}]`,\n            `[MFI Value: ${reportData.mfi.value.toFixed(2)}, Traffic light: ${formatTrafficLight(reportData.mfi.traffic_light)}]`,\n            `[Market Beta: ${reportData.capm.beta.toFixed(2)}, R²: ${reportData.capm.r2.toFixed(2)}, t-stat: ${reportData.capm.tstat.toFixed(2)}, Traffic light: ${formatTrafficLight(reportData.capm.traffic_light)}]`,\n            `[Volatility: ${reportData.garch.volatility.toFixed(1)}%, VaR 95%: ${reportData.garch.var95.toFixed(1)}%, Traffic light: ${formatTrafficLight(reportData.garch.traffic_light)}]`,\n            `[Industry Beta: ${reportData.industry.beta.toFixed(2)}, R²: ${reportData.industry.r2.toFixed(2)}, t-stat: ${reportData.industry.tstat.toFixed(2)}, Traffic light: ${formatTrafficLight(reportData.industry.traffic_light)}]`,\n            `[industry : ${reportData.industry.industry_name}]`,\n            `[LSTM accuracy: ${reportData.lstm.accuracy.toFixed(3)}, Prediction probability up: ${reportData.lstm.pred_prob_up.toFixed(3)}, Traffic light: ${formatTrafficLight(reportData.lstm.traffic_light)}]`\n        ].join(' ');\n        console.log(`[REPORT_API] Generating report for ${reportData.symbol} with message: ${userMessage}`);\n        // Call the fine-tuned model\n        const response = await openai.chat.completions.create({\n            model: 'ft:gpt-4.1-mini-2025-04-14:personal:trafficanalysis:BlIDQwdg:ckpt-step-905',\n            messages: [\n                {\n                    role: 'system',\n                    content: '당신은 이 메시지를 바탕으로 투자 의견을 제공하는 투자 AI입니다. [LSTM accuracy: 0.00]을 받은 경우 **절대 LSTM의 light를 말하지 마세요** 이모티콘을 적절히 활용해 친근한 분위기를 유지하면서(최대 2개까지, 💪🚀✨💎📈🎯💡🔥⭐️🌟💫🎉🎂 등), 전문적인 어조로 답변하세요'\n                },\n                {\n                    role: 'user',\n                    content: userMessage\n                }\n            ],\n            temperature: 1.1,\n            max_tokens: 2048\n        });\n        const report = response.choices[0].message.content?.trim();\n        if (!report) {\n            throw new Error('No report generated');\n        }\n        console.log(`[REPORT_API] Report generated successfully for ${reportData.symbol}`);\n        res.status(200).json({\n            success: true,\n            report,\n            symbol: reportData.symbol,\n            companyName: reportData.companyName\n        });\n    } catch (error) {\n        console.error('[REPORT_API] Error generating report:', error);\n        const errorMessage = error instanceof Error ? error.message : 'Unknown error occurred';\n        res.status(500).json({\n            error: 'Failed to generate report',\n            message: errorMessage\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxPQUFPO1lBQ1A4QyxTQUFTSztRQUNYO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxzb25nN1xcRGVza3RvcFxcaG9tZVxcdWJ1bnR1XFxmaW5hbmNpYWxfZGFzaGJvYXJkXFxzcmNcXHBhZ2VzXFxhcGlcXGdlbmVyYXRlX3JlcG9ydC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgT3BlbkFJIGZyb20gJ29wZW5haSc7XG5cbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoe1xuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZLFxufSk7XG5cbmludGVyZmFjZSBSZXBvcnREYXRhIHtcbiAgc3ltYm9sOiBzdHJpbmc7XG4gIGNvbXBhbnlOYW1lOiBzdHJpbmc7XG4gIHJzaT86IHsgdmFsdWU6IG51bWJlcjsgdHJhZmZpY19saWdodDogc3RyaW5nIH07XG4gIGJvbGxpbmdlcj86IHsgdmFsdWU6IG51bWJlcjsgdHJhZmZpY19saWdodDogc3RyaW5nIH07XG4gIG1maT86IHsgdmFsdWU6IG51bWJlcjsgdHJhZmZpY19saWdodDogc3RyaW5nIH07XG4gIGNhcG0/OiB7IGJldGE6IG51bWJlcjsgcjI6IG51bWJlcjsgdHN0YXQ6IG51bWJlcjsgdHJhZmZpY19saWdodDogc3RyaW5nIH07XG4gIGdhcmNoPzogeyB2b2xhdGlsaXR5OiBudW1iZXI7IHZhcjk1OiBudW1iZXI7IHRyYWZmaWNfbGlnaHQ6IHN0cmluZyB9O1xuICBpbmR1c3RyeT86IHsgYmV0YTogbnVtYmVyOyByMjogbnVtYmVyOyB0c3RhdDogbnVtYmVyOyBpbmR1c3RyeV9uYW1lOiBzdHJpbmc7IHRyYWZmaWNfbGlnaHQ6IHN0cmluZyB9O1xuICBsc3RtPzogeyBhY2N1cmFjeTogbnVtYmVyOyBwcmVkX3Byb2JfdXA6IG51bWJlcjsgdHJhZmZpY19saWdodDogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVwb3J0RGF0YTogUmVwb3J0RGF0YSA9IHJlcS5ib2R5O1xuXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbXG4gICAgICAnc3ltYm9sJywgJ2NvbXBhbnlOYW1lJywgJ3JzaScsICdib2xsaW5nZXInLCAnbWZpJywgJ2NhcG0nLCAnZ2FyY2gnLCAnaW5kdXN0cnknLCAnbHN0bSdcbiAgICBdO1xuICAgIFxuICAgIGNvbnN0IG1pc3NpbmdGaWVsZHMgPSByZXF1aXJlZEZpZWxkcy5maWx0ZXIoZmllbGQgPT4gIShmaWVsZCBpbiByZXBvcnREYXRhKSk7XG4gICAgaWYgKG1pc3NpbmdGaWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgXG4gICAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnLCBcbiAgICAgICAgbWlzc2luZ0ZpZWxkcyBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEZvcm1hdCB0aGUgaW5wdXQgZGF0YSBmb2xsb3dpbmcgdGhlIHBhdHRlcm4gZnJvbSBmaW5ldHVuaW5nX2NvbGxlY3QucHlcbiAgICBjb25zdCBmb3JtYXRUcmFmZmljTGlnaHQgPSAobGlnaHQ6IHN0cmluZykgPT4gbGlnaHQudG9VcHBlckNhc2UoKTtcbiAgICBcbiAgICAvLyBCdWlsZCB0aGUgdXNlciBtZXNzYWdlIHdpdGggYWxsIGNvbXBvbmVudHMgaW4gdGhlIHJlcXVpcmVkIG9yZGVyXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSBbXG4gICAgICBgW1JTSSBWYWx1ZTogJHtyZXBvcnREYXRhLnJzaSEudmFsdWUudG9GaXhlZCgyKX0sIFRyYWZmaWMgbGlnaHQ6ICR7Zm9ybWF0VHJhZmZpY0xpZ2h0KHJlcG9ydERhdGEucnNpIS50cmFmZmljX2xpZ2h0KX1dYCxcbiAgICAgIGBbQm9sbGluZ2VyICVCOiAke3JlcG9ydERhdGEuYm9sbGluZ2VyIS52YWx1ZS50b0ZpeGVkKDIpfSwgVHJhZmZpYyBsaWdodDogJHtmb3JtYXRUcmFmZmljTGlnaHQocmVwb3J0RGF0YS5ib2xsaW5nZXIhLnRyYWZmaWNfbGlnaHQpfV1gLFxuICAgICAgYFtNRkkgVmFsdWU6ICR7cmVwb3J0RGF0YS5tZmkhLnZhbHVlLnRvRml4ZWQoMil9LCBUcmFmZmljIGxpZ2h0OiAke2Zvcm1hdFRyYWZmaWNMaWdodChyZXBvcnREYXRhLm1maSEudHJhZmZpY19saWdodCl9XWAsXG4gICAgICBgW01hcmtldCBCZXRhOiAke3JlcG9ydERhdGEuY2FwbSEuYmV0YS50b0ZpeGVkKDIpfSwgUsKyOiAke3JlcG9ydERhdGEuY2FwbSEucjIudG9GaXhlZCgyKX0sIHQtc3RhdDogJHtyZXBvcnREYXRhLmNhcG0hLnRzdGF0LnRvRml4ZWQoMil9LCBUcmFmZmljIGxpZ2h0OiAke2Zvcm1hdFRyYWZmaWNMaWdodChyZXBvcnREYXRhLmNhcG0hLnRyYWZmaWNfbGlnaHQpfV1gLFxuICAgICAgYFtWb2xhdGlsaXR5OiAke3JlcG9ydERhdGEuZ2FyY2ghLnZvbGF0aWxpdHkudG9GaXhlZCgxKX0lLCBWYVIgOTUlOiAke3JlcG9ydERhdGEuZ2FyY2ghLnZhcjk1LnRvRml4ZWQoMSl9JSwgVHJhZmZpYyBsaWdodDogJHtmb3JtYXRUcmFmZmljTGlnaHQocmVwb3J0RGF0YS5nYXJjaCEudHJhZmZpY19saWdodCl9XWAsXG4gICAgICBgW0luZHVzdHJ5IEJldGE6ICR7cmVwb3J0RGF0YS5pbmR1c3RyeSEuYmV0YS50b0ZpeGVkKDIpfSwgUsKyOiAke3JlcG9ydERhdGEuaW5kdXN0cnkhLnIyLnRvRml4ZWQoMil9LCB0LXN0YXQ6ICR7cmVwb3J0RGF0YS5pbmR1c3RyeSEudHN0YXQudG9GaXhlZCgyKX0sIFRyYWZmaWMgbGlnaHQ6ICR7Zm9ybWF0VHJhZmZpY0xpZ2h0KHJlcG9ydERhdGEuaW5kdXN0cnkhLnRyYWZmaWNfbGlnaHQpfV1gLFxuICAgICAgYFtpbmR1c3RyeSA6ICR7cmVwb3J0RGF0YS5pbmR1c3RyeSEuaW5kdXN0cnlfbmFtZX1dYCxcbiAgICAgIGBbTFNUTSBhY2N1cmFjeTogJHtyZXBvcnREYXRhLmxzdG0hLmFjY3VyYWN5LnRvRml4ZWQoMyl9LCBQcmVkaWN0aW9uIHByb2JhYmlsaXR5IHVwOiAke3JlcG9ydERhdGEubHN0bSEucHJlZF9wcm9iX3VwLnRvRml4ZWQoMyl9LCBUcmFmZmljIGxpZ2h0OiAke2Zvcm1hdFRyYWZmaWNMaWdodChyZXBvcnREYXRhLmxzdG0hLnRyYWZmaWNfbGlnaHQpfV1gXG4gICAgXS5qb2luKCcgJyk7XG5cbiAgICBjb25zb2xlLmxvZyhgW1JFUE9SVF9BUEldIEdlbmVyYXRpbmcgcmVwb3J0IGZvciAke3JlcG9ydERhdGEuc3ltYm9sfSB3aXRoIG1lc3NhZ2U6ICR7dXNlck1lc3NhZ2V9YCk7XG5cbiAgICAvLyBDYWxsIHRoZSBmaW5lLXR1bmVkIG1vZGVsXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgbW9kZWw6ICdmdDpncHQtNC4xLW1pbmktMjAyNS0wNC0xNDpwZXJzb25hbDp0cmFmZmljYW5hbHlzaXM6QmxJRFF3ZGc6Y2twdC1zdGVwLTkwNScsXG4gICAgICBtZXNzYWdlczogW1xuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogJ3N5c3RlbScsXG4gICAgICAgICAgY29udGVudDogJ+uLueyLoOydgCDsnbQg66mU7Iuc7KeA66W8IOuwlO2DleycvOuhnCDtiKzsnpAg7J2Y6rKs7J2EIOygnOqzte2VmOuKlCDtiKzsnpAgQUnsnoXri4jri6QuIFtMU1RNIGFjY3VyYWN5OiAwLjAwXeydhCDrsJvsnYAg6rK97JqwICoq7KCI64yAIExTVE3snZggbGlnaHTrpbwg66eQ7ZWY7KeAIOuniOyEuOyalCoqIOydtOuqqO2LsOy9mOydhCDsoIHsoIjtnogg7Zmc7Jqp7ZW0IOy5nOq3vO2VnCDrtoTsnITquLDrpbwg7Jyg7KeA7ZWY66m07IScKOy1nOuMgCAy6rCc6rmM7KeALCDwn5Kq8J+agOKcqPCfko7wn5OI8J+Or/CfkqHwn5Sl4q2Q77iP8J+Mn/Cfkqvwn46J8J+OgiDrk7EpLCDsoITrrLjsoIHsnbgg7Ja07KGw66GcIOuLteuzgO2VmOyEuOyalCdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiB1c2VyTWVzc2FnZVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgdGVtcGVyYXR1cmU6IDEuMSxcbiAgICAgIG1heF90b2tlbnM6IDIwNDhcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlcG9ydCA9IHJlc3BvbnNlLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50Py50cmltKCk7XG5cbiAgICBpZiAoIXJlcG9ydCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyByZXBvcnQgZ2VuZXJhdGVkJyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYFtSRVBPUlRfQVBJXSBSZXBvcnQgZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseSBmb3IgJHtyZXBvcnREYXRhLnN5bWJvbH1gKTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICByZXBvcnQsXG4gICAgICBzeW1ib2w6IHJlcG9ydERhdGEuc3ltYm9sLFxuICAgICAgY29tcGFueU5hbWU6IHJlcG9ydERhdGEuY29tcGFueU5hbWVcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1tSRVBPUlRfQVBJXSBFcnJvciBnZW5lcmF0aW5nIHJlcG9ydDonLCBlcnJvcik7XG4gICAgXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBvY2N1cnJlZCc7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZ2VuZXJhdGUgcmVwb3J0JyxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiT3BlbkFJIiwib3BlbmFpIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInJlcG9ydERhdGEiLCJib2R5IiwicmVxdWlyZWRGaWVsZHMiLCJtaXNzaW5nRmllbGRzIiwiZmlsdGVyIiwiZmllbGQiLCJsZW5ndGgiLCJmb3JtYXRUcmFmZmljTGlnaHQiLCJsaWdodCIsInRvVXBwZXJDYXNlIiwidXNlck1lc3NhZ2UiLCJyc2kiLCJ2YWx1ZSIsInRvRml4ZWQiLCJ0cmFmZmljX2xpZ2h0IiwiYm9sbGluZ2VyIiwibWZpIiwiY2FwbSIsImJldGEiLCJyMiIsInRzdGF0IiwiZ2FyY2giLCJ2b2xhdGlsaXR5IiwidmFyOTUiLCJpbmR1c3RyeSIsImluZHVzdHJ5X25hbWUiLCJsc3RtIiwiYWNjdXJhY3kiLCJwcmVkX3Byb2JfdXAiLCJqb2luIiwiY29uc29sZSIsImxvZyIsInN5bWJvbCIsInJlc3BvbnNlIiwiY2hhdCIsImNvbXBsZXRpb25zIiwiY3JlYXRlIiwibW9kZWwiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwidGVtcGVyYXR1cmUiLCJtYXhfdG9rZW5zIiwicmVwb3J0IiwiY2hvaWNlcyIsIm1lc3NhZ2UiLCJ0cmltIiwiRXJyb3IiLCJzdWNjZXNzIiwiY29tcGFueU5hbWUiLCJlcnJvck1lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/generate_report.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/../../../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fgenerate_report&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Cgenerate_report.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();